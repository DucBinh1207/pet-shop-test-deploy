(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{4299:function(e,r,t){Promise.resolve().then(t.t.bind(t,231,23)),Promise.resolve().then(t.bind(t,8408))},6463:function(e,r,t){"use strict";var n=t(1169);t.o(n,"useParams")&&t.d(r,{useParams:function(){return n.useParams}}),t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},8408:function(e,r,t){"use strict";t.d(r,{default:function(){return d}});var n=t(7437),a=t(3236),o=t(587),s=t(776),i=t(5109),l=t(5714),c=t(6463),u=t(2265),p=t(9772);function d(){let[e,r]=(0,u.useState)(!1),t=(0,c.useSearchParams)().get("token"),{mutate:p}=(0,s.Z)({fetcher:i.df,options:{onSuccess:async e=>{r(e.success),t&&(0,l.xx)(t)},onError:e=>{console.log(e)},onFinally:()=>{}}});if((0,u.useEffect)(()=>{t&&p({data:{token:t}})},[p,t]),e)return(0,n.jsx)("div",{className:"mx-auto flex rounded-[4px] border border-solid border-light_gray_color_second bg-white large-screen:mb-[40px] large-screen:mt-[15px] large-screen:w-[1160px] small-screen:mb-[30px] small-screen:mt-[30px] smallest-screen:mb-[20px] smallest-screen:mt-[10px]",children:(0,n.jsx)("div",{className:"flex w-full justify-center",children:(0,n.jsx)("div",{className:"w-[380px] max-w-full px-[20px] pb-[50px] pt-[40px]",children:(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsx)("h2",{className:"mb-[35px] text-center font-quicksand text-[27px] font-bold leading-[1.27] tracking-[-0.01em] text-primary",children:"Reset Password"}),(0,n.jsx)("form",{children:(0,n.jsxs)("ul",{className:"flex flex-col",children:[(0,n.jsx)("li",{className:"mb-[25px] mt-[10px] flex text-[14px] leading-[1.5] tracking-[0.02em] text-text_color",children:"You have requested to reset your password. Please fill out the form below to create a new password for your account. Ensure that your new password is strong and unique"}),(0,n.jsxs)("li",{className:"flex flex-col",children:[(0,n.jsx)("label",{className:"pb-[10px] text-[13px] font-normal leading-[18px] tracking-[0.02em] text-primary",htmlFor:"new_password",children:"New Password *"}),(0,n.jsx)(o.default,{id:"new_password"})]}),(0,n.jsxs)("li",{className:"mt-[20px] flex flex-col",children:[(0,n.jsx)("label",{className:"pb-[10px] text-[13px] font-normal leading-[18px] tracking-[0.02em] text-primary",htmlFor:"confirm_password",children:"Confirm Password *"}),(0,n.jsx)(o.default,{id:"confirm_password"})]}),(0,n.jsx)("li",{className:"mt-[20px] flex flex-col",children:(0,n.jsx)(a.Z,{size:"xsm",variant:"secondary",className:"text-center text-[13px] font-bold leading-[16px]",children:"Reset Password"})})]})})]})})})})}p.z.object({newPassword:p.z.string().min(8,"Password must be at least 3 characters"),confirmPassword:p.z.string().min(8,"Password must be at least 3 characters")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirm"]})},3236:function(e,r,t){"use strict";var n=t(7437),a=t(2218),o=t(2265);let s=(0,a.j)("inline-block outline-none border-solid border-[2px] cursor-pointer rounded-[25px] text-center uppercase hover_animate ",{variants:{size:{xsm:"px-[25px] py-[15px]",sm:"px-[28px] py-[6px] text-[11px] leading-[14px] font-bold tracking-wider",md:"px-[30px] py-[8px] text-[13px] leading-[16px] font-bold tracking-wider",lg:"px-[34px] py-[15.5px] text-[12px] leading-[15px] font-bold tracking-[0.03em]",circle_xsm:"p-[3px] text-[7px] leading-[1]",circle_sm:"p-[7px] text-[11px] leading-[1]",circle_md:"p-[11px] text-[16px] leading-[1]",circle_lg:"p-[12px]",circle_xlg:"p-[15px] text-[21px] leading-[1]",circle_xxl:"p-[33px]",none:"p-0"},variant:{primary:"bg-white text-primary border-primary hover:bg-primary hover:text-white",secondary:"bg-primary text-white border-primary hover:bg-white hover:text-primary",tertiary:"bg-white text-primary border-white hover:bg-primary hover:border-primary hover:text-white",discovery:"bg-dark_orange_color text-white border-dark_orange_color hover:bg-white hover:text-dark_orange_color",none:"bg-transparent border-transparent text-black hover:opacity-[0.85]",icon:"text-primary hover:text-secondary border-none"}},defaultVariants:{size:"md",variant:"primary"}}),i=(0,o.forwardRef)((e,r)=>{let{size:t,variant:a,children:i,startIcon:l,endIcon:c,className:u,onClick:p,...d}=e,x=(0,o.useMemo)(()=>s({size:t,variant:a}),[t,a]);u&&(x+=" "+u);let m=l&&(0,n.jsxs)("span",{children:[" ",l," "]}),f=c&&(0,n.jsxs)("span",{children:[" ",c," "]});return(0,n.jsxs)("button",{className:x,ref:r,...d,onClick:p&&p,children:[m,i,f]})});i.displayName="Button",r.Z=i},587:function(e,r,t){"use strict";var n=t(7437),a=t(2218),o=t(2265);let s=(0,a.j)("font-medium border-solid border rounded-[3px] outline-none tracking-[0.01em]",{variants:{inputSize:{small:"px-[10px] py-[8px] text-[11px] leading-[14px]",medium:"px-[12px] py-[9px] text-[13px] leading-[16px]",large:"px-[14px] py-[10px] text-[15px] leading-[18px]",quantity:"w-[50px]",medium_full_width:"px-[12px] py-[9px] text-[13px] leading-[16px] w-full font-quicksand ",form_controls:"w-[18px]  h-[18px] "},variant:{primary:"text-primary border-input_border_color bg-background_color ",secondary:"bg-green-500 text-white",third:"bg-red-500 text-white",quantity:"text-center text-[18px] font-medium leading-[1] tracking-[0.015em] text-primary bg-white border-none outline-none appearance-none"}},compoundVariants:[{variant:"primary",class:"focus:outline-none focus:border-primary"},{variant:"secondary",class:"focus:bg-green-600 focus:border-green-600"},{variant:"third",class:"focus:bg-red-600 focus:border-red-600"}],defaultVariants:{inputSize:"medium",variant:"primary"}}),i=(0,o.forwardRef)((e,r)=>{let{inputSize:t,variant:a,type:i,className:l,...c}=e,u=(0,o.useMemo)(()=>s({inputSize:t,variant:a}),[t,a]);return l&&(u+=" "+l),(0,n.jsx)("input",{ref:r,type:i,autoComplete:"off",className:u,...c})});i.displayName="Input",r.default=i},776:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(2265),a=()=>{let e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{e.current=!0},[]),()=>e.current},o=function(e){let[r,t]=(0,n.useState)(null),[o,s]=(0,n.useState)({data:null,error:null,isMutating:!1}),i=a();return{mutate:async r=>{var n,a,l,c,u,p;s({...o,isMutating:!0});try{let o=await e.fetcher(null!=r?r:null);i()&&(t(o),null===(a=e.options)||void 0===a||null===(n=a.onSuccess)||void 0===n||n.call(a,o))}catch(r){null===(c=e.options)||void 0===c||null===(l=c.onError)||void 0===l||l.call(c,r),s({...o,error:r})}finally{null===(p=e.options)||void 0===p||null===(u=p.onFinally)||void 0===u||u.call(p),s({...o,isMutating:!1})}},...o,data:r}}},5109:function(e,r,t){"use strict";t.d(r,{d6:function(){return p},Ig:function(){return l},pk:function(){return c},df:function(){return u}});var n=t(8472);let a={BAD_REQUEST:400,NOT_FOUND:404,UNAUTHORIZED:401,SERVER_ERROR:500};var o=t(5714);let s=n.Z.create({baseURL:"https://pet-shop-api-2zab.onrender.com/api",headers:{"Content-Type":"application/json"},timeout:3e3});s.interceptors.request.use(e=>{let r=(0,o.N0)();return r&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e.data,e=>{if(e.response&&e.response.data)switch(e.response.status){case a.BAD_REQUEST:throw Error(e.response.data.message);case a.UNAUTHORIZED:throw(0,o.jg)(),Error(e.response.data.message);case a.NOT_FOUND:window.location.href="/not_found";break;case a.SERVER_ERROR:window.location.href="/error"}if(e.request)throw console.log(e),console.log(e.request),Error("Could not connect")});let i=e=>{let{url:r,data:t,config:n}=e;return s.post(r,t,n)};async function l(e){let{data:r}=e;return await i({url:"/auth/login",data:r})}async function c(e){let{data:r}=e;return await i({url:"/auth/register",data:r})}async function u(e){let{data:r}=e;return await i({url:"/auth/verify-token",data:r})}async function p(){return await i({url:"/auth/logout"})}},5714:function(e,r,t){"use strict";t.d(r,{N0:function(){return o},jg:function(){return s},xx:function(){return a}});var n=t(8472);async function a(e){await n.Z.post("/api/auth/token",{token:e})}async function o(){try{return(await n.Z.get("/api/auth/token")).data}catch(e){}}async function s(){await n.Z.delete("/api/auth/token")}}},function(e){e.O(0,[231,472,618,971,23,744],function(){return e(e.s=4299)}),_N_E=e.O()}]);